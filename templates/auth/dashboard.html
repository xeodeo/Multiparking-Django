{% extends "base.html" %}

{% block title %}Dashboard - MultiParking{% endblock %}

{% block body %}
<!-- Navbar -->
<nav class="bg-mp-card border-b border-mp-border px-6 py-4 flex items-center justify-between">
    <a href="{% url 'dashboard' %}" class="text-xl font-extrabold">
        <span class="text-mp-purple-light">Multi</span>Parking
    </a>
    <div class="flex items-center gap-4">
        <div class="text-right hidden sm:block">
            <p class="text-white text-sm font-medium">{{ usuario_nombre }}</p>
            <p class="text-mp-muted text-xs">{{ usuario_rol }}</p>
        </div>
        <a href="{% url 'logout' %}"
           class="bg-mp-purple/20 hover:bg-mp-purple text-mp-purple-light hover:text-white px-4 py-2 rounded-lg text-sm font-medium transition">
            Cerrar Sesión
        </a>
    </div>
</nav>

<!-- Content -->
<main class="flex-1 max-w-6xl mx-auto px-4 py-12">
    <!-- Messages -->
    {% if messages %}
    <div class="mb-6 space-y-2">
        {% for message in messages %}
        <div class="px-4 py-3 rounded-lg text-sm
            {% if message.tags == 'error' %}bg-red-900/50 border border-red-700 text-red-300
            {% elif message.tags == 'success' %}bg-green-900/50 border border-green-700 text-green-300
            {% else %}bg-blue-900/50 border border-blue-700 text-blue-300{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <h1 class="text-3xl font-bold mb-2">Dashboard</h1>
    <p class="text-mp-muted mb-8">Bienvenido al panel de control de MultiParking.</p>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-mp-card border border-mp-border rounded-xl p-6">
            <div class="w-12 h-12 bg-mp-purple/20 rounded-xl flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-mp-purple-light" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"/>
                </svg>
            </div>
            <h3 class="text-white font-semibold text-lg">Mi Perfil</h3>
            <p class="text-mp-muted text-sm mt-1">Gestiona tu información personal</p>
        </div>

        <div class="bg-mp-card border border-mp-border rounded-xl p-6">
            <div class="w-12 h-12 bg-mp-purple/20 rounded-xl flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-mp-purple-light" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"/>
                </svg>
            </div>
            <h3 class="text-white font-semibold text-lg">Mis Vehículos</h3>
            <p class="text-mp-muted text-sm mt-1">Administra tus vehículos registrados</p>
        </div>

        {% if usuario_rol == 'ADMIN' %}
        <a href="{% url 'admin_dashboard' %}" class="bg-mp-card border border-mp-purple/50 rounded-xl p-6 card-hover block group">
            <div class="w-12 h-12 bg-mp-purple/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-mp-purple transition">
                <svg class="w-6 h-6 text-mp-purple-light group-hover:text-white transition" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" />
                </svg>
            </div>
            <h3 class="text-white font-semibold text-lg group-hover:text-mp-purple-light transition">Panel Admin</h3>
            <p class="text-mp-muted text-sm mt-1 group-hover:text-white/80 transition">Gestionar el sistema completo</p>
        </a>
        {% endif %}

        <div class="bg-mp-card border border-mp-border rounded-xl p-6">
            <div class="w-12 h-12 bg-mp-purple/20 rounded-xl flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-mp-purple-light" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/>
                </svg>
            </div>
            <h3 class="text-white font-semibold text-lg">Mis Reservas</h3>
            <p class="text-mp-muted text-sm mt-1">Consulta y crea nuevas reservas</p>
        </div>
    </div>
</main>
{% endblock %}
